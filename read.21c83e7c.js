var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},t={},a=e.parcelRequirefaa8;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in t){var a=t[e];delete t[e];var s={id:e,exports:{}};return n[e]=s,a.call(s.exports,s,s.exports),s.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,n){t[e]=n},e.parcelRequirefaa8=a);var s=a("2Fivl"),i=a("jPzW1"),r=a("g1aRn"),o=a("krGWQ"),d=a("3ZFuQ"),l=a("dDUWE"),c=(o=a("krGWQ"),a("bpPkK")),f=a("eoX5z");const u=e=>{if("BUTTON"===e.target.tagName){const n=e.target.getAttribute("id");e.target.classList.toggle("expanded"),document.querySelector(`.${n}`).classList.toggle("hide")}},p=e=>{const n=(0,c.sortUserNews)(e);let t=[];n.map((e=>{const n=(0,f.formatDate)(e[0].createdAt),a=`date-${(0,f.formatClassName)(e[0].createdAt)}`;t.push(`\n            <div class="data-read">\n                <button id="${a}" class="data-read__btn" type="button">\n                    ${n}\n                    <svg class="data-read__icon" width="9" height="14">\n                        <use xlink:href="#icon-arrow-up"></use>\n                    </svg>\n                </button>\n                <div class="data-read__news hide ${a}">`),e.map((({imgUrl:e,title:n,section:a,abstract:s,published_date:i,url:r,favorite:o})=>{let d="Add to favorite",l='<use href="#icon-heart-border"></use>';o&&(d="Remove from favorite",l='<use href="#icon-heart-fill"></use>'),t.push(`\n                        <div class="news__item-read">\n                            <p class="news__section">${a}</p>\n                            <div class="news__img">\n                                <img src="${e}" alt="${n}" loading="lazy"/>\n                                <button  id="${r}" type="button" class="news__btn">${d}\n                                    <svg class="news__btn-icon" width="20" height="20">\n                                        ${l}\n                                    </svg>\n                                </button>\n                            </div>\n                            <div class="info">\n                                <p class="info__title line-clamp">${n}</p>\n                                <p class="info__abstract line-clamp">${s}</p>\n                                <p class="info__published-date">${(0,f.formatDate)(i)}</p>\n                                <a href="${r}" target="_blank" rel="noopener noreferrer nofollow"\n                                    class="info__link">Read more</a>\n                            </div>\n                        </div>`)})),t.push("</div>\n            </div>\n        ")})),o.refs.readContainer.insertAdjacentHTML("beforeend",t.join("")),o.refs.readContainer.addEventListener("click",u)};s.tokens?(0,i.loadUserNews)(null,!0).then((e=>{(0,d.showLoader)(),e.length>0?p(e):(0,r.hideMainContent)()})).catch((()=>{})).finally((()=>(0,d.hideLoader)())):((0,r.hideMainContent)(),o.refs.backdrop.classList.remove("is-hidden"),(0,l.formShow)());
//# sourceMappingURL=read.21c83e7c.js.map
